{% extends "base/base.html" %}
{% load static %}

{% block additional_scripts %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
{% endblock additional_scripts %}

{% block additional_body %}
    <div id="app" class="container">

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
<!--              <a class="navbar-brand" href="#">Navbar</a>-->
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>

              <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav">
                      <a class="nav-item nav-link active" href="/profile">info </a>
                      <a class="nav-item nav-link active" href="/profile/charts">Skill Charts </a>
<!--                      <a class="nav-item nav-link" href="#">Features</a>-->
<!--                      <a class="nav-item nav-link" href="#">Pricing</a>-->
<!--                      <a class="nav-item nav-link disabled" href="#">Disabled</a>-->
                    </div>
              </div>
        </nav>

<!--        <div></div>-->

        <chart-html></chart-html>

<!--        <goal-chart-html></goal-chart-html>-->

    </div>

<!--    This will substitut <char-html></char-html>.-->
    <script type="text/x-template" id="chart-template">

        <div  id="chart-container" class="chart-container" style="position: relative; height:20vh; width:20vw">
            <canvas id="myChart" width="50" height="50"></canvas>

            <div id="chart-inputs">
                <div class="form-row" v-for="(label, index) in skillLabels">
                    <div class="input-group mb-3">
                        <span class="input-group-text">{% verbatim block %}{{ label }}}{% endverbatim block %}</span>
                        <input type="number" class="form-control" v-model="skillFreq[index]">
                    </div>
                </div>

                <div class="form-group">
                    <button @click="submitChartDataClick()" type="button" class="btn btn-secondary">Submit</button>
                </div>
            </div>
        </div>

    </script>

    <script type="text/x-template" id="goal-chart-template">

        <div class="chart-container" style="position: relative; height:20vh; width:20vw">


            <canvas id="goalChart" width="50" height="50"></canvas>

<!--            <li v-for="(label, index) in skillLabels">-->
<!--                {{ item.message }}-->
<!--            </li>-->

            <li v-for="(label, index) in skillLabels">
                <div class="input-group mb-3">
                    <span class="input-group-text">{% verbatim block %}{{ label }}}{% endverbatim block %}</span>
                    <input type="date" class="form-control" v-model="skillFreq[index]">
                </div>
            </li>

<!--            <div class="input-group mb-3">-->
<!--                <span class="input-group-text">ทักษะที่ 1</span>-->
<!--                <input type="date" class="form-control" v-model="skillFreq.0">-->
<!--            </div>-->

<!--            <div class="input-group mb-3">-->
<!--                <span class="input-group-text">ทักษะที่ 2</span>-->
<!--                <input type="date" class="form-control" v-model="skillFreq.1">-->
<!--            </div>-->

<!--            <div class="input-group mb-3">-->
<!--                <span class="input-group-text">ทักษะที่ 3</span>-->
<!--                <input type="date" class="form-control" v-model="skillFreq.2">-->
<!--            </div>-->

        </div>

    </script>


{% endblock additional_body %}


{% block additional_script_in_body %}
    <script src="{% static 'profile/charts.js' %}"></script>
{% endblock additional_script_in_body%}